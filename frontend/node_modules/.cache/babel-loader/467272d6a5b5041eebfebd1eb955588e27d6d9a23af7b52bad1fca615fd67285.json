{"ast":null,"code":"import React,{useState}from'react';import{Link,useLocation}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{useCart}from'../context/CartContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navigation=()=>{const{user,logout}=useAuth();const{getTotalItems}=useCart();const location=useLocation();const[showLogoutConfirm,setShowLogoutConfirm]=useState(false);const getLinkClass=path=>{const baseClass=\"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition duration-300 ease-in-out\";const activeClass=\"border-primary text-gray-900\";const inactiveClass=\"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 hover:scale-105 transform\";return\"\".concat(baseClass,\" \").concat(location.pathname===path?activeClass:inactiveClass);};const getCartLinkClass=path=>{const baseClass=\"text-gray-500 hover:text-gray-700 p-1 rounded-full transition duration-300 ease-in-out\";const activeClass=\"text-primary transform scale-105\";return\"\".concat(baseClass,\" \").concat(location.pathname===path?activeClass:'');};const getUserProfileLinkClass=path=>{const baseClass=\"text-gray-700 transition duration-300 ease-in-out\";const activeClass=\"font-bold text-primary transform scale-105\";return\"\".concat(baseClass,\" \").concat(location.pathname.startsWith(path)?activeClass:'');};const handleLogout=()=>{setShowLogoutConfirm(true);};const confirmLogout=()=>{logout();setShowLogoutConfirm(false);};const cancelLogout=()=>{setShowLogoutConfirm(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"nav\",{className:\"bg-white shadow-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"flex-shrink-0 flex items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-primary\",children:\"RE-loop\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:ml-6 sm:flex sm:space-x-8\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:getLinkClass('/'),children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:getLinkClass('/products'),children:\"Products\"}),/*#__PURE__*/_jsx(Link,{to:\"/categories\",className:getLinkClass('/categories'),children:\"Categories\"}),user&&/*#__PURE__*/_jsx(Link,{to:\"/sell\",className:\"ml-6 \".concat(getLinkClass('/sell')),children:\"Sell\"}),user&&user.role==='admin'&&/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:getLinkClass('/admin'),children:\"Admin Panel\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"\".concat(getCartLinkClass('/cart'),\" relative\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shopping-cart text-xl\"}),getTotalItems()>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute top-2 right-2 inline-flex items-center justify-center px-1.5 py-0.5 text-[0.65rem] font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-700 rounded-full\",children:getTotalItems()})]}),user?/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-3\",children:/*#__PURE__*/_jsxs(Link,{to:\"/user/\".concat(user.id),className:\"flex-shrink-0\",children:[\" \",/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-sm font-bold text-gray-500\",children:user.name.charAt(0)})]})})}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-gray-500 hover:text-gray-700 transform hover:scale-105 transition duration-300\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"bg-primary text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-primary-dark transform hover:scale-105 transition duration-300\",children:\"Register\"})]})]})]})})}),showLogoutConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",children:\"Confirm Logout\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 px-7 py-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Are you sure you want to log out?\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"items-center px-4 py-3 sm:flex sm:justify-center sm:space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:confirmLogout,className:\"px-4 py-2 bg-red-600 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 sm:w-auto transform hover:scale-105 transition duration-300\",children:\"Yes, Logout\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelLogout,className:\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary sm:mt-0 sm:w-auto sm:text-sm transform hover:scale-105 transition duration-300\",children:\"Cancel\"})]})]})})})]});};export default Navigation;","map":{"version":3,"names":["React","useState","Link","useLocation","useAuth","useCart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navigation","user","logout","getTotalItems","location","showLogoutConfirm","setShowLogoutConfirm","getLinkClass","path","baseClass","activeClass","inactiveClass","concat","pathname","getCartLinkClass","getUserProfileLinkClass","startsWith","handleLogout","confirmLogout","cancelLogout","children","className","to","role","id","name","charAt","onClick"],"sources":["C:/Users/flyin/Desktop/WEBSITE/frontend/src/components/Navigation.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { useCart } from '../context/CartContext';\n\nconst Navigation = () => {\n  const { user, logout } = useAuth();\n  const { getTotalItems } = useCart();\n  const location = useLocation();\n  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);\n\n  const getLinkClass = (path) => {\n    const baseClass = \"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition duration-300 ease-in-out\";\n    const activeClass = \"border-primary text-gray-900\";\n    const inactiveClass = \"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 hover:scale-105 transform\";\n    \n    return `${baseClass} ${location.pathname === path ? activeClass : inactiveClass}`;\n  };\n\n  const getCartLinkClass = (path) => {\n    const baseClass = \"text-gray-500 hover:text-gray-700 p-1 rounded-full transition duration-300 ease-in-out\";\n    const activeClass = \"text-primary transform scale-105\";\n    return `${baseClass} ${location.pathname === path ? activeClass : ''}`;\n  };\n\n  const getUserProfileLinkClass = (path) => {\n    const baseClass = \"text-gray-700 transition duration-300 ease-in-out\";\n    const activeClass = \"font-bold text-primary transform scale-105\";\n    return `${baseClass} ${location.pathname.startsWith(path) ? activeClass : ''}`;\n  };\n\n  const handleLogout = () => {\n    setShowLogoutConfirm(true);\n  };\n\n  const confirmLogout = () => {\n    logout();\n    setShowLogoutConfirm(false);\n  };\n\n  const cancelLogout = () => {\n    setShowLogoutConfirm(false);\n  };\n\n  return (\n    <>\n      <nav className=\"bg-white shadow-lg\">\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"flex justify-between h-16\">\n            <div className=\"flex\">\n              <Link to=\"/\" className=\"flex-shrink-0 flex items-center\">\n                <span className=\"text-2xl font-bold text-primary\">RE-loop</span>\n              </Link>\n              <div className=\"sm:ml-6 sm:flex sm:space-x-8\">\n                <Link to=\"/\" className={getLinkClass('/')}>\n                  Home\n                </Link>\n                <Link to=\"/products\" className={getLinkClass('/products')}>\n                  Products\n                </Link>\n                <Link to=\"/categories\" className={getLinkClass('/categories')}>\n                  Categories\n                </Link>\n                {user && (\n                  <Link to=\"/sell\" className={`ml-6 ${getLinkClass('/sell')}`}>\n                    Sell\n                  </Link>\n                )}\n                {user && user.role === 'admin' && (\n                  <Link to=\"/admin\" className={getLinkClass('/admin')}>\n                    Admin Panel\n                  </Link>\n                )}\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <Link to=\"/cart\" className={`${getCartLinkClass('/cart')} relative`}>\n                <i className=\"fas fa-shopping-cart text-xl\"></i>\n                {getTotalItems() > 0 && (\n                  <span className=\"absolute top-2 right-2 inline-flex items-center justify-center px-1.5 py-0.5 text-[0.65rem] font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-700 rounded-full\">\n                    {getTotalItems()}\n                  </span>\n                )}\n              </Link>\n              {user ? (\n                <div className=\"relative\">\n                  <div className=\"flex items-center space-x-3\">\n                    <Link to={`/user/${user.id}`} className=\"flex-shrink-0\"> {/* Added flex-shrink-0 */}\n                      <div className=\"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-sm font-bold text-gray-500\">\n                        {user.name.charAt(0)}\n                      </div>\n                    </Link>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"space-x-4\">\n                  <Link to=\"/login\" className=\"text-gray-500 hover:text-gray-700 transform hover:scale-105 transition duration-300\">\n                    Login\n                  </Link>\n                  <Link to=\"/register\" className=\"bg-primary text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-primary-dark transform hover:scale-105 transition duration-300\">\n                    Register\n                  </Link>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      {/* Logout Confirmation Dialog */}\n      {showLogoutConfirm && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50\">\n          <div className=\"relative mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3 text-center\">\n              <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Confirm Logout</h3>\n              <div className=\"mt-2 px-7 py-3\">\n                <p className=\"text-sm text-gray-500\">Are you sure you want to log out?</p>\n              </div>\n              <div className=\"items-center px-4 py-3 sm:flex sm:justify-center sm:space-x-4\">\n                <button\n                  onClick={confirmLogout}\n                  className=\"px-4 py-2 bg-red-600 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 sm:w-auto transform hover:scale-105 transition duration-300\"\n                >\n                  Yes, Logout\n                </button>\n                <button\n                  onClick={cancelLogout}\n                  className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary sm:mt-0 sm:w-auto sm:text-sm transform hover:scale-105 transition duration-300\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Navigation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}