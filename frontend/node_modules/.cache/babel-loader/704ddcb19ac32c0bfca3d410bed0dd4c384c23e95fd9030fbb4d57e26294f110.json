{"ast":null,"code":"import _objectSpread from\"C:/Users/flyin/Desktop/WEBSITE/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useState,useContext}from'react';// Create the context\nimport{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();// Custom hook to use the cart context\nexport const useCart=()=>{return useContext(CartContext);};// Cart provider component\nexport const CartProvider=_ref=>{let{children}=_ref;const[cartItems,setCartItems]=useState([]);const[notification,setNotification]=useState(null);// New state for notification\n// Add item to cart\nconst addToCart=function(product){let quantity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;console.log('Adding to cart:',product,quantity);setCartItems(prevItems=>{const existingItem=prevItems.find(item=>item.product.id===product.id);if(existingItem){const newItems=prevItems.map(item=>item.product.id===product.id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+quantity}):item);console.log('Cart updated:',newItems);setNotification({message:\"\".concat(product.title,\" quantity updated in cart!\"),type:'success'});return newItems;}else{const newItems=[...prevItems,{product,quantity}];console.log('Cart updated:',newItems);setNotification({message:\"\".concat(product.title,\" added to cart!\"),type:'success'});return newItems;}});// Clear notification after a few seconds\nsetTimeout(()=>{setNotification(null);},3000);};// Remove item from cart\nconst removeFromCart=productId=>{setCartItems(prevItems=>prevItems.filter(item=>item.product.id!==productId));};// Update item quantity\nconst updateQuantity=(productId,quantity)=>{if(quantity<=0){removeFromCart(productId);return;}setCartItems(prevItems=>prevItems.map(item=>item.product.id===productId?_objectSpread(_objectSpread({},item),{},{quantity}):item));};// Clear cart\nconst clearCart=()=>{setCartItems([]);};// Calculate total items in cart\nconst getTotalItems=()=>{return cartItems.reduce((total,item)=>total+item.quantity,0);};// Calculate total price\nconst getTotalPrice=()=>{return cartItems.reduce((total,item)=>total+item.product.price*item.quantity,0);};// Calculate total price with discount\nconst getTotalPriceWithDiscount=()=>{return cartItems.reduce((total,item)=>{const discount=item.product.discount||0;const discountedPrice=item.product.price*(1-discount/100);return total+discountedPrice*item.quantity;},0);};// Context value\nconst value={cartItems,notification,// Export notification state\naddToCart,removeFromCart,updateQuantity,clearCart,getTotalItems,getTotalPrice,getTotalPriceWithDiscount};return/*#__PURE__*/_jsx(CartContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useState","useContext","jsx","_jsx","CartContext","useCart","CartProvider","_ref","children","cartItems","setCartItems","notification","setNotification","addToCart","product","quantity","arguments","length","undefined","console","log","prevItems","existingItem","find","item","id","newItems","map","_objectSpread","message","concat","title","type","setTimeout","removeFromCart","productId","filter","updateQuantity","clearCart","getTotalItems","reduce","total","getTotalPrice","price","getTotalPriceWithDiscount","discount","discountedPrice","value","Provider"],"sources":["C:/Users/flyin/Desktop/WEBSITE/frontend/src/context/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useContext } from 'react';\n\n// Create the context\nconst CartContext = createContext();\n\n// Custom hook to use the cart context\nexport const useCart = () => {\n  return useContext(CartContext);\n};\n\n// Cart provider component\nexport const CartProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useState([]);\n  const [notification, setNotification] = useState(null); // New state for notification\n\n  // Add item to cart\n  const addToCart = (product, quantity = 1) => {\n    console.log('Adding to cart:', product, quantity);\n    setCartItems(prevItems => {\n      const existingItem = prevItems.find(item => item.product.id === product.id);\n      \n      if (existingItem) {\n        const newItems = prevItems.map(item =>\n          item.product.id === product.id\n            ? { ...item, quantity: item.quantity + quantity }\n            : item\n        );\n        console.log('Cart updated:', newItems);\n        setNotification({ message: `${product.title} quantity updated in cart!`, type: 'success' });\n        return newItems;\n      } else {\n        const newItems = [...prevItems, { product, quantity }];\n        console.log('Cart updated:', newItems);\n        setNotification({ message: `${product.title} added to cart!`, type: 'success' });\n        return newItems;\n      }\n    });\n\n    // Clear notification after a few seconds\n    setTimeout(() => {\n      setNotification(null);\n    }, 3000);\n  };\n\n  // Remove item from cart\n  const removeFromCart = (productId) => {\n    setCartItems(prevItems => prevItems.filter(item => item.product.id !== productId));\n  };\n\n  // Update item quantity\n  const updateQuantity = (productId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(productId);\n      return;\n    }\n    \n    setCartItems(prevItems =>\n      prevItems.map(item =>\n        item.product.id === productId ? { ...item, quantity } : item\n      )\n    );\n  };\n\n  // Clear cart\n  const clearCart = () => {\n    setCartItems([]);\n  };\n\n  // Calculate total items in cart\n  const getTotalItems = () => {\n    return cartItems.reduce((total, item) => total + item.quantity, 0);\n  };\n\n  // Calculate total price\n  const getTotalPrice = () => {\n    return cartItems.reduce(\n      (total, item) => total + (item.product.price * item.quantity),\n      0\n    );\n  };\n\n  // Calculate total price with discount\n  const getTotalPriceWithDiscount = () => {\n    return cartItems.reduce(\n      (total, item) => {\n        const discount = item.product.discount || 0;\n        const discountedPrice = item.product.price * (1 - discount / 100);\n        return total + (discountedPrice * item.quantity);\n      },\n      0\n    );\n  };\n\n  // Context value\n  const value = {\n    cartItems,\n    notification, // Export notification state\n    addToCart,\n    removeFromCart,\n    updateQuantity,\n    clearCart,\n    getTotalItems,\n    getTotalPrice,\n    getTotalPriceWithDiscount\n  };\n\n  return (\n    <CartContext.Provider value={value}>\n      {children}\n    </CartContext.Provider>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}